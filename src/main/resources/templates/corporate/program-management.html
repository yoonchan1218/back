<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전체 채용공고 | TRY-CATCH</title>
    <link rel="stylesheet" href="/static/css/corporate/program-management.css">
</head>
<body class="mtcSubNotice">
    <div id="wrap">
        <div class="devUseTopBtn" id="container">
            <!-- 배너 -->
            <div class="banner-smartfit-notice">
                <a href="" class="smartfit-banner-link" target="_blank">
                    <img src="/static/images/corporate/banner-smartfit-manage.png">
                </a>
            </div>

            <!-- 본문영역 시작-->
            <div id="content">
                <form th:action="@{/corporate/program-management}" id="form" method="get" name="form">
                    <!-- 개수별 -->
                    <input id="TopCount" name="TopCount" type="hidden" th:value="${currentTopCount}">
                    <!-- 정렬 -->
                    <input id="Orderby" name="Orderby" type="hidden" value="0">
                    <!-- 담당자 -->
                    <input id="OfcName" name="OfcName" type="hidden" value="">

                    <!-- 전체 공고 -->
                    <div class="noticeContent">
                        <!-- header -->
                        <div class="topArea">
                            <h2 class="subTits">전체 채용공고</h2>
                        </div>

                        <!-- 메뉴(탭) -->
                        <div class="mtcTplTab">
                            <ul class="tabItems">
                                <li th:classappend="${currentStatus == 'recruiting'} ? 'on'">
                                    <a th:href="@{/corporate/program-management(status='recruiting')}">
                                        모집중<span class="verdana" th:text="${programStats['recruiting'] ?: 0}">0</span>
                                    </a>
                                </li>
                                <li th:classappend="${currentStatus == 'closed'} ? 'on'">
                                    <a th:href="@{/corporate/program-management(status='closed')}">
                                        모집마감<span class="verdana" th:text="${programStats['closed'] ?: 0}">0</span>
                                    </a>
                                </li>
                                <li th:classappend="${currentStatus == 'active'} ? 'on'">
                                    <a th:href="@{/corporate/program-management(status='active')}">
                                        진행중<span class="verdana" th:text="${programStats['active'] ?: 0}">0</span>
                                    </a>
                                </li>
                                <li th:classappend="${currentStatus == 'cancelled'} ? 'on'">
                                    <a th:href="@{/corporate/program-management(status='cancelled')}">
                                        진행종료<span class="verdana" th:text="${programStats['cancelled'] ?: 0}">0</span>
                                    </a>
                                </li>
                                <li th:classappend="${currentStatus == ''} ? 'on'">
                                    <a th:href="@{/corporate/program-management}">
                                        전체<span class="verdana"
                                            th:text="${(programStats['recruiting'] ?: 0)
                                                     + (programStats['closed'] ?: 0)
                                                     + (programStats['active'] ?: 0)
                                                     + (programStats['cancelled'] ?: 0)
                                                     + (programStats['draft'] ?: 0)}">0</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <fieldset>
                            <!-- 검색 필터 -->
                            <!-- server, javascript: 공고가 없으면 notFound 추가, 있으면 삭제 -->
                            <div class="sort-select-box" th:classappend="${#lists.isEmpty(programWithPaging.list)} ? 'notFound'">
                                <div class="drop-down-box">
                                    <!-- 날짜별 -->
                                    <div class="button-box">
                                        <button type="button" class="sort-button sort1">최근 등록일순</button>
                                        <!-- javascript: 드롭다운 버튼 클릭 시 active 추가 -->
                                        <div class="sort-select-modal select-modal_common check-version ">
                                            <ul>
                                                <li>
                                                    <button type="button" class="active">최근 등록일</button>
                                                </li>
                                                <li>
                                                    <button type="button" class="">과거 등록일</button>
                                                </li>
                                                <li>
                                                    <button type="button" class="">수정일</button>
                                                </li>
                                                <li>
                                                    <button type="button" class="">마감일</button>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- 개수별 -->
                                    <div class="button-box">
                                        <button type="button" class="sort-button sort2"
                                            th:text="|${currentTopCount}개씩 보기|">10개씩 보기</button>
                                        <!-- javascript: 드롭다운 버튼 클릭 시 active 추가 -->
                                        <div class="sort-select-modal select-modal_common">
                                            <ul id="TopCountList">
                                                <li><button type="button" data-count="10">10개</button></li>
                                                <li><button type="button" data-count="20">20개</button></li>
                                                <li><button type="button" data-count="30">30개</button></li>
                                                <li><button type="button" data-count="40">40개</button></li>
                                                <li><button type="button" data-count="50">50개</button></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <!-- 키워드 검색 -->
                                <div class="search-box input-box_common">
                                    <div class="drop-down-box">
                                        <div class="button-box">
                                            <button type="button" class="sort-button sort3">담당자 전체</button>
                                            <div class="sort-select-modal select-modal_common">
                                                <ul id="lb_OfcName">
                                                    <li><button type="button" data-value="">담당자 전체</button></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <input type="text" id="SrchKeyword" maxlength="50" name="SrchKeyword"
                                           placeholder="공고제목, 담당자" th:value="${currentKeyword}">
                                    <button type="button" class="search-button"></button>
                                </div>
                            </div>

                            <div class="rowWrap">
                                <!-- 공고가 없을 경우 -->
                                <div class="scNoSelectWrap" th:if="${#lists.isEmpty(programWithPaging.list)}">
                                    <div class="noSelectInner">
                                        <div class="scNoSelectAppList mngSpBefore">
                                            <p class="tx"><strong>진행중인 공고가 없습니다.</strong></p>
                                        </div>
                                    </div>
                                </div>

                                <!-- 공고가 있을 경우 -->
                                <div class="scSelectWrap" th:if="${!#lists.isEmpty(programWithPaging.list)}">
                                    <div class="selectInner">
                                        <ul class="scSelectAppList mngSpBefore">
                                            <li class="scSelectAppItem" th:each="p : ${programWithPaging.list}">
                                                <div class="manager">
                                                    <h2 class="manager-name" th:text="${loginMember?.memberName}">담당자명</h2>
                                                    <div class="department">
                                                        <p>
                                                            Phone: <span th:text="${loginMember?.memberPhone}">010-0000-0000</span>
                                                            &nbsp; | &nbsp;
                                                            Email: <span th:text="${loginMember?.memberEmail}">email</span>
                                                        </p>
                                                    </div>
                                                    <button type="button" class="moreOptionButton">
                                                        <span>
                                                            <svg focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg>
                                                        </span>
                                                    </button>
                                                    <!-- javascript: moreOptionButton 클릭 시 active 추가 -->
                                                    <div class="more-option">
                                                        <ul>
                                                            <li>
                                                                <button type="button" class="applicantBtn">지원자 관리</button>
                                                            </li>
                                                            <li>
                                                                <a th:href="@{/corporate/participant-list(programId=${p.id})}" class="participantBtn">참여자 관리</a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <!-- 프로그램 상세로 이동 -->
                                                <a href="#" class="program-detail-link" target="_blank">
                                                    <div class="program-title">
                                                        <h3 class="title" th:text="${p.experienceProgramTitle}">프로그램 제목</h3>
                                                    </div>
                                                    <!-- 프로그램 키워드 -->
                                                    <ul class="keywords">
                                                        <li class="item status"
                                                            th:text="${p.experienceProgramStatus == 'recruiting' ? '모집중' :
                                                                      (p.experienceProgramStatus == 'closed'     ? '모집마감' :
                                                                      (p.experienceProgramStatus == 'active'     ? '진행중' :
                                                                      (p.experienceProgramStatus == 'cancelled'  ? '진행종료' : '임시저장')))}"
                                                            th:classappend="' ' + ${p.experienceProgramStatus}">모집중</li>
                                                        <li class="item">체험형</li>
                                                        <li class="item" th:text="${p.experienceProgramJob}">직무</li>
                                                        <li class="item" th:text="${p.experienceProgramWorkDays}">기간</li>
                                                        <li class="item" th:text="${p.experienceProgramDeadline}">마감일</li>
                                                        <li class="item" th:text="|${p.experienceProgramRecruitmentCount}명|">15명</li>
                                                    </ul>
                                                    <div class="program-description">
                                                        <p th:text="${p.experienceProgramDescription}">프로그램 간단 설명글</p>
                                                    </div>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="noticeBx">
                                <ul>
                                    <li>체험 프로그램은 <em>지원자 모집 → 참여 → 검증 → 종료</em> 단계로 진행됩니다.</li>
                                    <li>참여자는 프로그램 시작 이후 <em>중도 이탈이 가능</em>하며, 이력에 기록됩니다. </li>
                                    <li>기업은 참여자의 <em>과제 수행, 참여도, 커뮤니케이션 기록</em>을 통해 인재를 검증할 수 있습니다.</li>
                                    <li>체험 프로그램은 채용 확정을 의미하지 않으며, <em>기업의 채용 판단을 돕기 위한 검증 과정</em>입니다.</li>
                                    <li>프로그램 내용 및 운영 방식은 <em>기업이 직접 수정·관리</em>할 수 있습니다. </li>
                                </ul>
                            </div>
                        </fieldset>
                    </div>
                </form>
            </div>

            <!-- 맨위로 -->
            <div class="mtcTopBx">
                <a id="btnMtcTop" href="#skipNavigation" class="mtcBtn btnMtcTop"></a>
            </div>
        </div>
    </div>
</body>
<script src="/static/js/corporate/program-management/event.js"></script>
</html>
