<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>point</title>
        <link rel="stylesheet" href="/css/qna/header.css" />
        <link rel="stylesheet" href="/css/qna/footer.css" />
        <link rel="stylesheet" href="/css/point/point.css" />
    </head>
    <body>
        <header th:replace="~{/qna/header.html::header}"></header>
        <div id="root">
            <div class="profile_container__1Ub0_">
                <div class="profile_content__h3eF3">
                    <h3 class="blind">내 정보</h3>
                    <div class="side-navigation">
                        <div class="navi-top-area has-tooltip">
                            <a
                                href="javascript:;"
                                class="select-tooltip btn-question qnaSpB"
                                >질문 · 글쓰기</a
                            >
                            <!-- [Dev] 툴팁오픈 : tooltip-open 클래스 추가 -->
                            <div class="create-menu">
                                <ul
                                    class="create-menu-wrap tooltip-layer qnaSpB"
                                >
                                    <li>
                                        <a
                                            th:href="@{/qna/write}"
                                            class="create-menu-item qna qnaSpB devLoginLayer"
                                            devalert="1"
                                            data-wtypecode="1"
                                            >직무/기업/동문에게 질문하기</a
                                        >
                                    </li>
                                    <li>
                                        <a
                                            th:href="@{/qna/list}"
                                            class="create-menu-item carrier qnaSpB devLoginLayer"
                                            devalert="1"
                                            data-wtypecode="2"
                                            >QnA 목록</a
                                        >
                                    </li>
                                </ul>
                            </div>
                            <div class="myInfoSec">
                                <a th:href="@{/mypage/mypage}" class="myInfo">
                                    <!-- [Dev] 프로필 랜덤 이미지 파일명 : random_1 ~ random_20, 이미지 없음 : random_default -->
                                    <span class="proThumb"
                                        ><img
                                            th:src="${profile != null and profile.memberProfileImageUrl != null ? profile.memberProfileImageUrl : '/image/default_photo.png'}"
                                            src="/image/default_photo.png"
                                            alt="프로필 이미지"
                                    /></span>

                                    <dl class="infoBx">
                                        <dt class="qnaSpA">
                                            <span class="nickname" th:text="${profile != null and profile.memberName != null ? profile.memberName : '회원'}"
                                                >회원</span
                                            >
                                            <span class="lvIcon" th:text="${profile != null ? 'Lv.' + profile.individualMemberLevel : 'Lv.1'}">Lv.1</span>
                                        </dt>
                                        <dd>
                                            <span>글 <b th:text="${profile != null ? profile.individualMemberPostCount : 0}">0</b></span>
                                            <span>질문 <b th:text="${profile != null ? profile.individualMemberQuestionCount : 0}">0</b></span>
                                        </dd>
                                    </dl>
                                </a>
                                <button
                                    type="button"
                                    class="myPoint devMainCouponButton"
                                    onclick="window.location.href='/point/point'"
                                >
                                    <span class="point qnaSpB" th:text="${profile != null ? #numbers.formatInteger(profile.individualMemberPoint, 1, 'COMMA') : '0'}">0</span
                                    ><span class="btnCoupon qnaSpA"
                                        >별 충전</span
                                    >
                                </button>
                            </div>
                        </div>
                        <div class="navi-list-area">
                            <div class="sideNavLow">
                                <strong class="sideNavTit"><a href="/qna/list">인기 질문</a></strong>
                                <ul class="sideNavList">
                                    <th:block th:each="post : ${sideTopPosts}">
                                    <li>
                                        <a th:href="@{/qna/detail(id=${post.id})}"
                                           th:text="${post.qnaTitle}"
                                           style="overflow:hidden; text-overflow:ellipsis; white-space:nowrap; display:block;">제목</a>
                                    </li>
                                    </th:block>
                                </ul>
                            </div>
                            <div class="sideNavLow">
                                <strong class="sideNavTit"><a href="/qna/list">최신 질문</a></strong>
                                <ul class="sideNavList">
                                    <th:block th:each="post : ${sideLatestPosts}">
                                    <li>
                                        <a th:href="@{/qna/detail(id=${post.id})}"
                                           th:text="${post.qnaTitle}"
                                           style="overflow:hidden; text-overflow:ellipsis; white-space:nowrap; display:block;">제목</a>
                                    </li>
                                    </th:block>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- 사이드 네비게이션 끝 -->
                    <div class="profile_wrapper__3urr2">
                        <section class="profile_section__23jL-">
                            <div class="profile_common_header__2X1Vd">
                                <h4 class="profile_common_title__2ttHE">
                                    내 별
                                </h4>
                            </div>
                            <div
                                class="profile_common_container__2Q8-1 profile_common_type_default__1CARE profile_common_is_shrinked__2FiZL"
                            >
                                <div class="header_container__3cT1P">
                                    <div class="header_column__qYNCu">
                                        <div class="header_wrapper__6Qi7h">
                                            <div class="header_area__2hVfI">
                                                <i
                                                    class="header_icon__2K2id"
                                                ></i>
                                                <div class="header_box__TaUZh">
                                                    <em
                                                        class="header_title__2DG2j"
                                                        >보유중인 별</em
                                                    ><strong
                                                        class="header_number__44Pes"
                                                        th:text="${profile != null ? #numbers.formatInteger(profile.individualMemberPoint, 1, 'COMMA') + '개' : '0개'}"
                                                        >1,000개</strong
                                                    >
                                                </div>
                                                <button
                                                    type="button"
                                                    class="header_button__9mwzc header_highlight__3hMnE"
                                                >
                                                    충전하기
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <ul class="tab_list__28ln6" role="tablist">
                                    <li class="tab_item__2zBYZ" role="none">
                                        <button
                                            type="button"
                                            id="purchase"
                                            class="tab_button__D3QSu"
                                            role="tab"
                                            aria-selected="true"
                                            aria-controls="purchase-panel"
                                        >
                                            내역
                                        </button>
                                    </li>
                                </ul>
                                <div class="table_container__2G8Bx">
                                    <table
                                        width="100%"
                                        cellpadding="0"
                                        cellspacing="0"
                                        class="table_wrapper__319N0"
                                    >
                                        <caption>
                                            <span class="blind"
                                                >내역으로 일시,
                                                상태, 충전수량, 잔여수량,
                                                결제금액, 유효기간,
                                                구매취소</span
                                            >
                                        </caption>
                                        <colgroup>
                                            <col style="width: 130px" />
                                            <col style="width: 110px" />
                                            <col style="width: 130px" />
                                            <col style="width: 130px" />
                                            <col style="width: 130px" />
                                            <col />
                                            <col style="width: 130px" />
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th scope="col">일시</th>
                                                <th scope="col">상태</th>
                                                <th scope="col">충전수량</th>
                                                <th scope="col">잔여수량</th>
                                                <th scope="col">결제금액</th>
                                                <th scope="col">유효기간</th>
                                                <th
                                                    scope="col"
                                                    class="table_default__1WBZ2"
                                                >
                                                    구매취소
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:if="${#lists.isEmpty(pointDetails)}">
                                                <td colspan="7">내역이 없습니다.</td>
                                            </tr>
                                            <tr
                                                th:each="pointDetail : ${pointDetails}"
                                                th:with="created=${pointDetail.createdDatetime != null ? #strings.replace(pointDetail.createdDatetime, 'T', ' ') : null},
                                                         expire=${pointDetail.expireDatetime != null ? #strings.replace(pointDetail.expireDatetime, 'T', ' ') : null}"
                                            >
                                                <td>
                                                    <span th:text="${created != null and created.length() >= 10 ? #strings.substring(created, 0, 10) : '-'}">2026-01-27</span><br />
                                                    <span th:text="${created != null and created.length() >= 19 ? #strings.substring(created, 11, 19) : '-'}">09:28:01</span>
                                                </td>
                                                <td th:text="${pointDetail.statusLabel}">충전</td>
                                                <td>
                                                    <strong
                                                        class="table_text__1aOIu"
                                                        th:text="${#numbers.formatInteger(pointDetail.pointAmount, 1, 'COMMA') + '개'}"
                                                        >1,000개</strong
                                                    >
                                                </td>
                                                <td>
                                                    <strong
                                                        class="table_text__1aOIu"
                                                        th:text="${#numbers.formatInteger(pointDetail.remainingPointAmount, 1, 'COMMA') + '개'}"
                                                        >1,000개</strong
                                                    >
                                                </td>
                                                <td>
                                                    <span
                                                        class="table_text__1aOIu"
                                                        th:if="${pointDetail.pointType.name() == 'EARN' or pointDetail.pointType.name() == 'PURCHASE_CANCEL'}"
                                                        th:text="${#numbers.formatInteger(pointDetail.paymentAmount, 1, 'COMMA') + '원'}"
                                                        >1,100원</span
                                                    >
                                                    <span
                                                        class="table_text__1aOIu"
                                                        th:if="${pointDetail.pointType.name() != 'EARN' and pointDetail.pointType.name() != 'PURCHASE_CANCEL'}"
                                                        >-</span
                                                    >
                                                </td>
                                                <td>
                                                    <span th:text="${expire != null and expire.length() >= 10 ? #strings.substring(expire, 0, 10) : '-'}">2031-01-27</span><br />
                                                    <span th:text="${expire != null and expire.length() >= 19 ? #strings.substring(expire, 11, 19) : '-'}">09:28:01</span>
                                                </td>
                                                <td class="table_default__1WBZ2">
                                                    <button
                                                        th:if="${pointDetail.cancellable}"
                                                        type="button"
                                                        class="table_button__299bn"
                                                        th:attr="data-point-detail-id=${pointDetail.id}"
                                                    >
                                                        구매취소
                                                    </button>
                                                    <span
                                                        th:if="${!pointDetail.cancellable}"
                                                        class="table_text__1aOIu"
                                                        th:text="${pointDetail.cancelledDatetime != null ? '취소완료' : '취소불가'}"
                                                        >취소불가</span
                                                    >
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div
                                    class="profile_common_container__2Q8-1 profile_common_type_pagination__3UHCb"
                                    th:if="${criteria != null and criteria.realEnd > 0}"
                                >
                                    <nav
                                        aria-label="pagination"
                                        class="pagination_container__33RvO"
                                    >
                                        <div class="pagination_wrapper__2XtxS">
                                            <ul class="pagination_list__22SiR">
                                                <li class="pagination_item__2kbgM"
                                                    th:if="${criteria.startPage > 1}">
                                                    <a th:href="@{/point/point(page=${criteria.startPage - criteria.pageCount})}"
                                                       class="pagination_page__USQaB">&lt;</a>
                                                </li>
                                                <li class="pagination_item__2kbgM"
                                                    th:each="i : ${#numbers.sequence(criteria.startPage, criteria.endPage)}">
                                                    <span th:if="${i == criteria.page}"
                                                          class="pagination_page__USQaB"
                                                          aria-current="page"
                                                          th:text="${i}">1</span>
                                                    <a th:if="${i != criteria.page}"
                                                       th:href="@{/point/point(page=${i})}"
                                                       class="pagination_page__USQaB"
                                                       th:text="${i}">1</a>
                                                </li>
                                                <li class="pagination_item__2kbgM"
                                                    th:if="${criteria.endPage < criteria.realEnd}">
                                                    <a th:href="@{/point/point(page=${criteria.endPage + 1})}"
                                                       class="pagination_page__USQaB">&gt;</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </nav>
                                </div>
                                <div class="guide_container__26o9Q">
                                    <div class="guide_wrapper__1b8eP">
                                        <strong class="guide_title__3rr3W"
                                            >별 이용안내</strong
                                        >
                                        <ul>
                                            <li>
                                                별 구매 시 10%의 부가가치세가
                                                부과됩니다.
                                            </li>
                                            <li>
                                                구매한 별 유효기간은
                                                구매일로부터 1년입니다.
                                            </li>
                                            <li>
                                                QnA 질문 작성 시 별 5개가
                                                차감됩니다.
                                            </li>
                                            <li>
                                                별 충전 및 사용내역은 프로필
                                                &gt; 내 별 확인할 수 있습니다.
                                            </li>
                                            <li>
                                                기타 별 충전 관련 문의는
                                                <a
                                                    th:href="@{/qna/list}"
                                                    target="_blank"
                                                    class="guide_link__2OYBd"
                                                    >qna</a
                                                >를 이용해 주세요.
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="guide_wrapper__1b8eP">
                                        <strong class="guide_title__3rr3W"
                                            >별 구매 취소안내</strong
                                        >
                                        <ul>
                                            <li>
                                                웹을 통해 결제한 별 구매 후 7일
                                                이내에 전액을 사용하지 않은 경우
                                                내 별 페이지에서 직접 취소가
                                                가능하며, 이외의 경우 고객센터를
                                                통해 환불이 가능합니다.<br />(단,
                                                잔여 수량이 10개 이하이거나
                                                서비스에서 탈퇴한 경우, 환불은
                                                불가합니다.)
                                            </li>
                                            <li>
                                                인앱결제를 통해 구매한 별 대한
                                                환불은 구매한 앱 마켓의 환불
                                                정책에 따릅니다.
                                            </li>
                                            <li>
                                                미성년자가 법정대리인 동의 없이
                                                계약을 체결한 경우, 미성년자
                                                또는 법정대리인이 이를 취소할 수
                                                있습니다.
                                            </li>
                                            <li>
                                                TRY-CATCH 회원 탈퇴 시 보유한
                                                잔여 별에 대하여 환불을 신청할
                                                수 있고, 환불 신청 없이 탈퇴한
                                                경우 회원 탈퇴가 완료된 이후에는
                                                별의 복구 또는 환불이
                                                불가능합니다.
                                            </li>
                                            <li>
                                                유료서비스 구매에 따른 자세한
                                                내용은
                                                <span
                                                    >TRY-CATCH 유료서비스
                                                    이용약관</span
                                                >을 따릅니다.
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
        <footer th:replace="~{/qna/footer.html::footer}"></footer>
    </body>
    <script src="https://js.bootpay.co.kr/bootpay-5.0.2.min.js"></script>
    <script src="/js/point/point.js"></script>
    <script src="/js/qna/header-event.js"></script>
    <script src="/js/qna/footer.js"></script>
</html>
